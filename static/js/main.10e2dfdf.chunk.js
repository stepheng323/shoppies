(this["webpackJsonpshopify-internship"]=this["webpackJsonpshopify-internship"]||[]).push([[0],{40:function(e,t,n){},42:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var c=n(2),i=n(0),s=n.n(i),a=n(5),r=n.n(a),o=(n(40),n(26)),l=n.n(o),j=n(27),h=n(29),d=n(21),b=n(28),u=n(30),m=n.n(u),O=n(68),f=n.p+"static/media/Spinner.38a236b2.gif";n(42),n(43);var p=function(){var e=Object(i.useState)(),t=Object(d.a)(e,2),n=t[0],s=t[1],a=Object(i.useState)([]),r=Object(d.a)(a,2),o=r[0],u=r[1],p=Object(i.useState)([]),v=Object(d.a)(p,2),x=v[0],g=v[1],N=Object(i.useState)(!1),S=Object(d.a)(N,2),y=S[0],I=S[1],k="http://www.omdbapi.com/?s=".concat(n,"&apikey=6ccf3a20"),w=function(){return b.b.info("Nomination Completed")};function D(e){return C.apply(this,arguments)}function C(){return(C=Object(h.a)(l.a.mark((function e(t){var n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),I(!0),e.next=4,fetch(k);case 4:return n=e.sent,e.next=7,n.json();case 7:c=e.sent,u(c.Search),I(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(i.useEffect)((function(){var e=JSON.parse(localStorage.getItem("nominations"));g(e)}),[]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(b.a,{hideProgressBar:!0}),Object(c.jsxs)("div",{className:"container",children:[Object(c.jsxs)("div",{className:"search",children:[Object(c.jsx)("h2",{className:"title",children:"The Shoppies"}),Object(c.jsxs)("form",{onSubmit:D,className:"header-input",children:[Object(c.jsx)("input",{onChange:function(e){return s(e.target.value)},placeholder:"Search",type:"text",value:n}),Object(c.jsx)("div",{className:"search-btn",children:Object(c.jsx)(m.a,{onClick:D,className:"header-button"})})]})]}),o.length?Object(c.jsxs)("p",{children:['Result for "',n,'"']}):null,Object(c.jsxs)("div",{className:"body-container",children:[Object(c.jsxs)("div",{className:"movies-container",children:[o.length?o.map((function(e){var t=e.Title,n=e.Year,i=e.Poster,s=e.imdbID;return Object(c.jsxs)("div",{className:"movie",children:[Object(c.jsx)("img",{className:"poster",src:i,alt:"poster"}),Object(c.jsxs)("div",{className:"movie-info",children:[Object(c.jsx)("h3",{children:t}),Object(c.jsx)("p",{children:n})]}),Object(c.jsx)(O.a,{color:"secondary",disabled:x.filter((function(e){return e.imdbID===s})).length,onClick:function(){return function(e){5!==x.length?(x.length>3&&w(),x.filter((function(t){return t.imdbID===e.imdbID})).length||g([].concat(Object(j.a)(x),[e])),localStorage.setItem("nominations",JSON.stringify([].concat(Object(j.a)(x),[e])))):w()}(e)},disableElevation:!0,children:"Nominate"})]},s)})):Object(c.jsx)("p",{children:"Use the search button to find movies"}),y&&Object(c.jsx)("img",{src:f,alt:"spinner"}),!x.length&&Object(c.jsx)("p",{children:"You currently, have'nt made a nomination, search your favourite movies, to start adding nominations"})]}),Object(c.jsxs)("div",{className:"nominations",children:[Object(c.jsxs)("p",{children:["You have nominated ",x.length," movies,"," ",5-x.length," left"]}),x.length>0&&x.map((function(e){return Object(c.jsxs)("div",{className:"nominee",children:[Object(c.jsxs)("p",{children:[e.Title," -",e.Year," "]}),Object(c.jsx)(O.a,{color:"secondary",disableElevation:!0,onClick:function(){return function(e){var t=x.filter((function(t){return t.imdbID!==e.imdbID}));g(t),localStorage.setItem("nominations",JSON.stringify(t))}(e)},children:"Remove"})]})}))]})]})]})]})};r.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(p,{})}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.10e2dfdf.chunk.js.map